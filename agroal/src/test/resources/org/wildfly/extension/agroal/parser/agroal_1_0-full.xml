<subsystem xmlns="urn:jboss:domain:agroal:1.0">
    <datasource name="sample" jndi-name="java:jboss/datasources/ExampleDS" jta="false" connectable="true" statistics-enabled="true">
        <connection-factory driver="h2" url="jdbc:h2:tcp://localhost:1701" transaction-isolation="SERIALIZABLE">
            <new-connection sql="SELECT 1"/>
            <security username="sa" password="sa"/>
            <connection-properties>
                <property name="someProperty" value="someValue"/>
                <property name="sneakySecond" value="veryFunny"/>
            </connection-properties>
        </connection-factory>
        <connection-pool max-size="30" min-size="10" initial-size="20" blocking-timeout-millis="1000">
            <background-validation millis="6000"/>
            <leak-detection millis="5000"/>
            <idle-removal minutes="5"/>
        </connection-pool>
    </datasource>
    <datasource name="minimal" jndi-name="java:jboss/datasources/MinimalDS">
        <connection-factory driver="h2" url="jdbc:h2:tcp://localhost:1701"/>
        <connection-pool max-size="30"/>
    </datasource>
    <xa-datasource name="sample-xa" jndi-name="java:jboss/datasources/ExampleXADS" statistics-enabled="true">
        <connection-factory driver="h2-xa" url="jdbc:h2:tcp://localhost:1702" transaction-isolation="REPEATABLE_READ">
            <new-connection sql="SELECT 1"/>
            <security username="sa" password="sa"/>
            <connection-properties>
                <property name="anotherProperty" value="anotherValue"/>
            </connection-properties>
        </connection-factory>
        <connection-pool initial-size="5" min-size="1" max-size="10" blocking-timeout-millis="2000">
            <background-validation millis="8000"/>
            <leak-detection millis="7000"/>
            <idle-removal minutes="7"/>
        </connection-pool>
    </xa-datasource>
    <drivers>
        <driver name="h2" module="com.h2database.h2" slot="experimental" class="org.h2.Driver"/>
        <driver name="h2-xa" module="com.h2database.h2" slot="stable" class="org.h2.jdbcx.JdbcDataSource"/>
    </drivers>
</subsystem>
